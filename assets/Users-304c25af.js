import{a9 as b,j as e,$ as S,a0 as i,a1 as d,O as C,c as p,C as q,H as v}from"./index-bf703710.js";import{u as y}from"./index.esm-76036237.js";function F(){var t,o,m,u;const{register:r,formState:c,getValues:h,handleSubmit:x,reset:l}=y(),{errors:s}=c,{signupMutate:f,isSignupLoading:a}=b(),j=({fullname:n,email:w,password:g})=>{f({fullname:n,email:w,password:g},{onSettled:()=>l()})};return e.jsxs(S,{onSubmit:x(j),children:[e.jsx(i,{label:"Full name",error:(t=s==null?void 0:s.fullname)==null?void 0:t.message,children:e.jsx(d,{type:"text",id:"fullname",disabled:a,...r("fullname",{required:"This field is required"})})}),e.jsx(i,{label:"Email address",error:(o=s==null?void 0:s.email)==null?void 0:o.message,children:e.jsx(d,{type:"email",id:"email",disabled:a,...r("email",{required:"This field is required",pattern:{value:/\S+@\S+\.\S+/,message:"Please provide a valid email address"}})})}),e.jsx(i,{label:"Password (min 8 characters)",error:(m=s==null?void 0:s.password)==null?void 0:m.message,children:e.jsx(d,{type:"password",id:"password",disabled:a,...r("password",{required:"This field is required",minLength:{value:8,message:"Password needs a minimum of 8 characters"}})})}),e.jsx(i,{label:"Repeat password",error:(u=s==null?void 0:s.passwordConfirm)==null?void 0:u.message,children:e.jsx(d,{type:"password",id:"passwordConfirm",disabled:a,...r("passwordConfirm",{required:"This field is required",validate:n=>n===h().password||"Passwords need to match"})})}),e.jsx(i,{children:e.jsxs(C,{children:[e.jsx(p,{variation:"secondary",type:"reset",disabled:a,onClick:l,children:"Clear"}),e.jsx(p,{disabled:a,children:"Create new user"})]})})]})}function R(){return e.jsxs(q,{children:[e.jsx(v,{as:"h1",children:"Create a new staff"}),e.jsx(F,{})]})}export{R as default};
